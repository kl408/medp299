<html>
    <head>
        <title>A-Frame Demo 1</title>
        <!-- A-frame script -->
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <!-- one of many distribution networks -->
        <script src="https://cdn.jsdelivr.net/npm/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>

        <script>
            AFRAME.registerComponent('sound-events', {
              init: function () {
                var el = this.el;  // <a-box>
                el.addEventListener('mouseenter', function () {
                  el.components.sound.playSound();
                });
                el.addEventListener('mouseleave', function () {
                  el.components.sound.pauseSound();
                });
              }
            });
            //there is also a-video primitive
            //https://aframe.io/docs/1.2.0/primitives/a-video.html
        </script>
    </head>

 

    <body>
        <!-- To place a box in our world -->
        <!-- background="color: #0D1218" -->
        <a-scene>

            <!-- Always put assets first -->
            <a-assets>
                
                <!-- Just trying to learn -->
                <img id="eggs" src="img/hardboiledeggs.jpeg"/>
                <!-- For sky -->
                <img id="sky" src="img/sky2.png"/>

                <!-- from Sketchfab, denis_cliofas -->
                <a-asset-item id="phone_booth" src="models/post_apocalyptic_phone_booth/scene.gltf"></a-asset-item>
                <!-- from Sketchfab, 3dhdscan -->
                <a-asset-item id="grass" src="models/simple_grass_chunks/scene.gltf"></a-asset-item>

                <!-- loading audio -->
                <audio id="person1_b" src="audio/person1_b.mp3" preload="auto"></audio>
                <audio id="person2_c" src="audio/person2_c.mp3" preload="auto"></audio>
                <audio id="person3_a" src="audio/person3_a.mp3" preload="auto"></audio>
                <audio id="person4_b" src="audio/person4_b.mp3" preload="auto"></audio>
                <audio id="person5_c" src="audio/person5_c.mp3" preload="auto"></audio>

                
            </a-assets>

            <a-camera position="0 2.3 0">
                <a-cursor></a-cursor>
            </a-camera>
            <!--
            <a-box
                src="#eggs"
                color="#F4E79F"
                position="0 2 -5"
                rotation="0 45 45">> 
            </a-box>
            -->

            <!-- xyz, Measurements and position are set in meters-->
            
            <!--
                    x-axis rotation - 33°,y-axis - 45°, z-axis - 0°
                -->
                <!--
                    x-axis shrunk by 0.5, y-axis stretched by 3,
                    z-axis unchanged
            -->

            <!--
            <a-box 
                color="#F49FBA"
                position="2 4 -3"
                rotation="33 45 0"
                scale="0.5 2 1"
                >
            </a-box>
            -->

            <!-- Light source for phone box -->
            <a-sphere 
                color="#F49FBA"
                position="3 4 -3"
                radius="0.05"
                light="type: point; intensity: 1.5; distance: 40; decay: 5; color: #FFCC5D">
            </a-sphere>

            <!-- light="type: ambient; color: red" -->

            
            <!-- <a-entity light="type: directional; color: #F4E79F; intensity: 0.5" position="-1 1 0"></a-entity> -->

            
            


            <!-- Phone booth -->
            <a-entity gltf-model="#phone_booth" scale="1.5 1.5 1.5" position="2 0.4 -5"> </a-entity>
            <!-- Grass -->
            <a-entity gltf-model="#grass" scale="0.4 0.2 0.4" position="-20 0 -15"> </a-entity>

            <!-- Boxes -->

            <!--
                <a-box color="yellow" scale="1 1 1" position="0 4 0" rotation="0 45 30" 
                sound="src: #person1_b" sound-events></a-box>
            -->
                <a-sphere color="#F6B11D" radius="0.5" position="1 2.2 0"
                sound="src: #person1_b" sound-events 
                event-set__enter="_event: mouseenter; _target: #person1; visible: true"
                event-set__leave="_event: mouseleave; _target: #person1; visible: false">
                    <a-text
                        id="person1"
                        value="I want to spend as much time with friends and family."
                        align="center"
                        color="#F6B11D"
                        visible="false"
                        position="0 -0.55 0.55"
                        geometry="primitive: plane; width: 4"
                        material="color: black"
                    ></a-text>
                </a-sphere>

                <a-sphere color="red" radius="0.3" position="2.5 2.5 -5.5"
                sound="src: #person2_c" sound-events
                event-set__enter="_event: mouseenter; _target: #person2; visible: true"
                event-set__leave="_event: mouseleave; _target: #person2; visible: false">
                    <a-text
                        id="person2"
                        value="Give up."
                        align="center"
                        color="red"
                        visible="false"
                        position="0 -0.55 0.55"
                        geometry="primitive: plane; width: 1.75"
                        material="color: black"
                    ></a-text>
            
                </a-sphere>

                <a-sphere color="#CF43DA" radius="0.3" position="1.3 2.2 -3"
                sound="src: #person3_a" sound-events
                event-set__enter="_event: mouseenter; _target: #person3; visible: true"
                event-set__leave="_event: mouseleave; _target: #person3; visible: false">
                    <a-text
                        id="person3"
                        value="Climate change is already affecting the world."
                        align="center"
                        color="#CF43DA"
                        visible="false"
                        position="0 -0.55 0.55"
                        geometry="primitive: plane; width: 4"
                        material="color: black"
                    ></a-text>
                
                </a-sphere>

                <a-sphere color="#69D148" radius="0.4" position="1 2.5 2.2"
                sound="src: #person4_b" sound-events
                event-set__enter="_event: mouseenter; _target: #person4; visible: true"
                event-set__leave="_event: mouseleave; _target: #person4; visible: false">
                    <a-text
                        id="person4"
                        value="I want to start a family."
                        align="center"
                        color="#69D148"
                        visible="false"
                        position="0 -0.55 0.55"
                        geometry="primitive: plane; width: 2"
                        material="color: black"
                    ></a-text>
            
                </a-sphere>

                <a-sphere color="#326DE0" radius="0.5" position="-1 2.5 -2.2"
                sound="src: #person5_c" sound-events
                event-set__enter="_event: mouseenter; _target: #person4; visible: true"
                event-set__leave="_event: mouseleave; _target: #person4; visible: false">
            
                    <a-text
                        id="person4"
                        value="If you're still out there, let's meet up."
                        align="center"
                        color="#326DE0"
                        visible="false"
                        position="0 -0.55 0.55"
                        geometry="primitive: plane; width: 2.5"
                        material="color: black"
                    ></a-text>
            
                </a-sphere>


            <!-- Bubbles -->
            <!-- Animation by @stemkoski via GitHub -->
            <a-entity id="glowPulse" position="0.3 2 -4"
                animation__spin="property: rotation; from: 0 0 0; to: 0 360 0; dur: 3000; loop: true; easing: linear;">
                <a-sphere color="#FFCC5D" radius="0.02" material="emissive: yellow; emissive-intensity: 0.5;"
                animation__pulse="property: material.emissiveIntensity; from: 0.5; to: 0.0; dur: 1000; loop: true; dir: alternate; easing: linear;"></a-sphere>
                <a-sphere color="#FFCC5D" radius="0.06" color="#FFCC5D" material="transparent: true; opacity: 1.0; alphaTest: 0.01;"
                animation__pulse="property: material.opacity; from: 1.0; to: 0.0; dur: 1000; loop: true; dir: alternate; easing: linear;"></a-sphere>
            </a-entity>
            
            <a-sphere color = "black" position="0.5 2.3 -2" radius="0.05" material="emissive: #FFCC5D; emissive-intensity: 1.5;"
		    animation__pulse="property: material.emissiveIntensity; from: 0.5; to: 0.0; dur: 1500; loop: true; dir: alternate; easing: linear;"></a-sphere>
            

            <!-- Sky -->
            <a-sky src="#sky"></a-sky>
        </a-scene>
    </body>



</html>
